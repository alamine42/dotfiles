# Cloud Claude Code - Mobile-Optimized tmux Config
# ~/.tmux.conf

# ----- Prefix -----
# Ctrl-a is easier on mobile than Ctrl-b
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# ----- General settings -----
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",*256col*:Tc"
set -g history-limit 50000
set -sg escape-time 0
set -g focus-events on
set -g mouse on

# Start numbering at 1 (easier to reach)
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

# ----- Status bar -----
set -g status-position top
set -g status-interval 5
set -g status-style 'bg=#1e1e2e fg=#cdd6f4'

# Left: session name
set -g status-left '#[fg=#89b4fa,bold][#S] '
set -g status-left-length 30

# Right: time only (keep it minimal for mobile)
set -g status-right '#[fg=#a6adc8]%H:%M '
set -g status-right-length 20

# Window status
set -g window-status-format ' #I:#W '
set -g window-status-current-format '#[fg=#f5c2e7,bold] #I:#W '
set -g window-status-separator ''

# ----- Pane styling -----
set -g pane-border-style 'fg=#45475a'
set -g pane-active-border-style 'fg=#89b4fa'

# ----- Splits -----
# Use | and - for splits (more intuitive)
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# New window in current path
bind c new-window -c "#{pane_current_path}"

# ----- Navigation -----
# Vim-style pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Alt + arrow for pane switching (no prefix needed, good for mobile)
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# ----- Resize -----
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# ----- Windows -----
# Quick window switching
bind -n M-1 select-window -t 1
bind -n M-2 select-window -t 2
bind -n M-3 select-window -t 3
bind -n M-4 select-window -t 4
bind -n M-5 select-window -t 5

# ----- Sessions -----
bind s choose-tree -sZ
bind S command-prompt -p "New session:" "new-session -s '%%'"

# ----- Utility -----
# Reload config
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# Clear screen and history
bind C-l send-keys 'C-l' \; clear-history

# Toggle mouse (useful when selecting text to copy)
bind m set -g mouse \; display "Mouse: #{?mouse,ON,OFF}"

# ----- Copy mode -----
setw -g mode-keys vi
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection-and-cancel

# ----- Activity -----
setw -g monitor-activity on
set -g visual-activity off
